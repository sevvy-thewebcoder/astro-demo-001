---
import { Image } from "astro:assets";
import { type ProductCard } from "../../schemas/ProductCard";

interface Props {
	product: ProductCard;
}

const { product }: Props = Astro.props;
---

<div class="product-details">
	<div class="product-images">
		{
			product.imageVariants.map((image) => (
				<Image
					class="product-image"
					src={image.url}
					alt={image.alt}
					width={"280"}
					height={"450"}
				/>
			))
		}
	</div>
	<div class="product-info">
		<p class="product-brand">{product.brandName}</p>
		<h3>{product.title}</h3>
		<div class="product-color__variants">
			{
				product.colorVariants.map((color) => (
					<div
						class="color-variant"
						style={`background-color: ${color.colorCode}; width: 24px; height: 24px; border: 1px solid #000; display: inline-block; margin-right: 8px; text-align: center; line-height: 24px; color: #fff; font-size: 12px;`}
					/>
				))
			}
		</div>
		<p class="price">${product.price.toFixed(2)}</p>
		<p>{product.description}</p>
		<button class="buy-button">Buy Now</button>
	</div>
</div>

<style>
	.product-details {
		width: 100%;
		height: 100%;
		display: flex;
		gap: 2rem;

		.product-images {
			flex: 2;
			display: grid;
			grid-template-columns: repeat(2, 1fr);
			gap: 1rem;

			.product-image {
				width: 100%;
				height: 100%;
				object-fit: cover;
			}
		}

		.product-info {
			flex: 1;
			position: sticky;
			top: 0;
			width: 100%;
			height: 100vh;
			display: flex;
			flex-direction: column;
			gap: 1rem;
			background-color: #f9f9f9;
			padding: 2rem;

			.product-brand {
				font-size: 0.875rem;
				font-weight: medium;
				color: #7d7d7d;
				letter-spacing: 2px;
			}

			.price {
				color: green;
				font-size: 1.5rem;
			}

			.product-description {
				font-size: 0.875rem;
				line-height: 1.25rem;
				text-align: justify;
			}

			.buy-button {
				background-color: blue;
				color: white;
				padding: 0.5rem 1rem;
				border: none;
				border-radius: 0.25rem;
				cursor: pointer;
			}
		}
	}
</style>
